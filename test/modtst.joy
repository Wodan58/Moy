%INCLUDE stdlib.joy

MODULE m2
PRIVATE
  b == "B" ;
  a == "A" ;
PUBLIC
  ab == a b concat ;
  ba == b a concat ;
  HIDE
    d == "D" ;
    c == "C" ;
  IN
    cd == c d concat ;
  END ;
  abba == ab ba concat ;
  HIDE
    d == "D" ;
    c == "C" ;
  IN
    abc == a b concat c concat ;
  END ;
  bcd == b cd concat ;
END
MODULE m1
PRIVATE
  b == "b" ;
  a == "a" ;
PUBLIC
  ab == a b concat ;
  ba == b a concat ;
  abba == ab ba concat ;
END
DEFINE
  zero == 0 0 pop ;
  one == zero 1 + ;
  four == two three + one - ;
END
HIDE
  un == one ;
  deux == zero one un + + ;
IN
  two == deux ;
  three == zero un + deux + ;
END
HIDE
  trois == two succ ;
IN
  six == trois three + ;
  seven == trois drei + succ ;
  five == cinq ;
  cinq == two trois + ;
END
HIDE
  twenty == 20 ;
  thirty == 30 ;
IN
  fifty == twenty thirty + ;
END

0 setautoput .
zero put_int nl .
one put_int nl .
two put_int nl .
three put_int nl .
four put_int nl .
five put_int nl .
six put_int nl .
seven put_int nl .
fifty put_int nl .
thirty put_int nl .
m1.ab put_str nl .
m1.ba put_str nl .
m1.abba put_str nl .
m1.a .
m1.b .
m2.ab put_str nl .
m2.ba put_str nl .
m2.abba put_str nl .
m2.cd put_str nl .
m2.abc put_str nl .
m2.bcd put_str nl .
m2.a .
m2.b .
m2.c .
m2.d .
